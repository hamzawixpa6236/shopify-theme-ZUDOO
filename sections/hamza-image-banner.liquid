<section id="hero-slider-{{ section.id }}" class="hero-slider" style="
  padding-top: {{ section.settings.padding_top }}px;
  padding-bottom: {{ section.settings.padding_bottom }}px;
">
  <div class="hero-slider-wrapper alignment-{{ section.settings.text_alignment }}">

    <div class="hero-slides" data-speed="{{ section.settings.slider_speed }}">
      {% for block in section.blocks %}
        {% if block.type == 'slide' %}
          <div class="slide-item">
            {% if block.settings.slide_type == 'image' %}
              <img src="{{ block.settings.slide_image | img_url: 'master' }}" class="slide-media" />
            {% else %}
              <video class="slide-media" autoplay loop muted playsinline>
                <source src="{{ block.settings.slide_video }}" type="video/mp4">
              </video>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <div class="hero-content">

      {% for block in section.blocks %}
        {% case block.type %}

          {% when 'badge' %}
            <span class="hero-badge"
              style="
                background-color: {{ block.settings.bg }};
                color: {{ block.settings.color }};
                border-radius: {{ block.settings.radius }}px;
              ">
              {{ block.settings.text }}
            </span>

          {% when 'heading' %}
            <h1 class="hero-heading"
              style="
                font-size: {{ block.settings.size }}px;
                color: {{ block.settings.color }};
                font-family: {{ block.settings.family }};
                margin-bottom: {{ block.settings.gap }}px;
              ">
              {{ block.settings.text }}
            </h1>

          {% when 'text' %}
            <p class="hero-para"
              style="
                font-size: {{ block.settings.size }}px;
                color: {{ block.settings.color }};
                font-family: {{ block.settings.family }};
                margin-bottom: {{ block.settings.gap }}px;
              ">
              {{ block.settings.text }}
            </p>

          {% when 'button' %}
            <a href="{{ block.settings.link }}" class="hero-btn"
              style="
                color: {{ block.settings.text_color }};
                background-color: {{ block.settings.bg_color }};
                border-radius: {{ block.settings.radius }}px;
                border: 1px solid {{ block.settings.border_color }};
                padding: {{ block.settings.padding }}px {{ block.settings.padding_x }}px;
              ">
              {{ block.settings.text }}
            </a>

        {% endcase %}
      {% endfor %}

    </div>
  </div>
</section>
<style>
.hero-slider {
  width: 100%;
  position: relative;
  overflow: hidden;
}

.hero-slider-wrapper {
  display: flex;
  align-items: center;
  gap: 40px;
  justify-content: space-between;
}

.hero-slides {
  width: 55%;
  position: relative;
}

.slide-item {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  opacity: 0;
  transition: opacity 0.8s ease;
}

.slide-item.active {
  opacity: 1;
}

.slide-media {
  width: 100%;
  height: auto;
  border-radius: 20px;
  object-fit: cover;
}

.hero-content {
  width: 45%;
}

.hero-badge {
  display: inline-block;
  padding: 8px 14px;
  font-size: 14px;
  margin-bottom: 18px;
}

.hero-btn {
  display: inline-block;
  transition: all 0.5s ease;
}

/* Hover Gradient Bottom-left â†’ Top-right */
.hero-btn:hover {
  background: linear-gradient(45deg,
      var(--grad1, #222),
      var(--grad2, #777)
  );
  color: white !important;
}

/* Alignment */
.alignment-left .hero-content { text-align: left; }
.alignment-center .hero-content { text-align: center; margin: 0 auto; }
.alignment-right .hero-content { text-align: right; margin-left: auto; }

/* Responsive */
@media(max-width: 900px) {
  .hero-slider-wrapper {
    flex-direction: column;
    text-align: center;
  }
  .hero-slides, .hero-content {
    width: 100%;
  }
}
</style>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const slides = document.querySelectorAll("#hero-slider-{{ section.id }} .slide-item");
  const speed = parseInt(document.querySelector("#hero-slider-{{ section.id }} .hero-slides").dataset.speed) * 1000;

  let index = 0;

  function showSlide() {
    slides.forEach(s => s.classList.remove("active"));
    slides[index].classList.add("active");
    index = (index + 1) % slides.length;
  }

  showSlide();
  setInterval(showSlide, speed);
});
</script>
{% schema %}
{
  "name": "Premium Hero Slider",
  "settings": [
    {
      "type": "range",
      "id": "slider_speed",
      "min": 2,
      "max": 7,
      "step": 1,
      "label": "Slide Change Speed (seconds)",
      "default": 4
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Content Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 150,
      "step": 5,
      "label": "Padding Top",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 150,
      "step": 5,
      "label": "Padding Bottom",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide (Image / Video)",
      "settings": [
        {
          "type": "select",
          "id": "slide_type",
          "label": "Slide Type",
          "options": [
            { "value": "image", "label": "Image" },
            { "value": "video", "label": "Video" }
          ],
          "default": "image"
        },
        {
          "type": "image_picker",
          "id": "slide_image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "slide_video",
          "label": "Video URL (MP4)"
        }
      ]
    },
    {
      "type": "badge",
      "name": "Badge",
      "settings": [
        { "type": "text", "id": "text", "label": "Text" },
        { "type": "color", "id": "bg", "label": "BG Color" },
        { "type": "color", "id": "color", "label": "Text Color" },
        { "type": "range", "id": "radius", "min": 0, "max": 30, "step": 2, "label": "Border Radius", "default": 10 }
      ]
    },
    {
      "type": "heading",
      "name": "Heading",
      "settings": [
        { "type": "text", "id": "text", "label": "Heading Text" },
        { "type": "color", "id": "color", "label": "Color" },
        { "type": "text", "id": "family", "label": "Font Family", "default": "inherit" },
        { "type": "range", "id": "size", "min": 20, "max": 80, "step": 2, "label": "Font Size", "default": 48 },
        { "type": "range", "id": "gap", "min": 0, "max": 60, "step": 2, "label": "Bottom Gap", "default": 20 }
      ]
    },
    {
      "type": "text",
      "name": "Sub Text",
      "settings": [
        { "type": "text", "id": "text", "label": "Paragraph Text" },
        { "type": "color", "id": "color", "label": "Color" },
        { "type": "text", "id": "family", "label": "Font Family", "default": "inherit" },
        { "type": "range", "id": "size", "min": 12, "max": 30, "step": 1, "label": "Font Size", "default": 18 },
        { "type": "range", "id": "gap", "min": 0, "max": 60, "step": 2, "label": "Bottom Gap", "default": 20 }
      ]
    },
    {
      "type": "button",
      "name": "Button",
      "settings": [
        { "type": "text", "id": "text", "label": "Button Text" },
        { "type": "url", "id": "link", "label": "Button Link" },
        { "type": "color", "id": "bg_color", "label": "Background Color" },
        { "type": "color", "id": "text_color", "label": "Text Color" },
        { "type": "color", "id": "border_color", "label": "Border Color" },
        { "type": "range", "id": "radius", "min": 0, "max": 30, "step": 2, "label": "Border Radius", "default": 10 },
        { "type": "range", "id": "padding", "min": 6, "max": 30, "step": 2, "label": "Padding Y", "default": 12 },
        { "type": "range", "id": "padding_x", "min": 10, "max": 60, "step": 2, "label": "Padding X", "default": 24 }
      ]
    }
  ],
  "max_blocks": 20,
  "presets": [
    { "name": "Premium Hero Slider", "category": "Image" }
  ]
}
{% endschema %}
